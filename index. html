<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QRIS Payment</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<style>
body{
background:#0f172a;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:white;
font-family:Arial;
}
.card{
background:#1e293b;
padding:30px;
border-radius:20px;
width:350px;
text-align:center;
}
input,button{
width:100%;
padding:12px;
margin-top:12px;
border-radius:10px;
border:none;
}
button{
background:#2563eb;
color:white;
cursor:pointer;
}
#qrcode{
margin-top:20px;
background:white;
padding:10px;
border-radius:10px;
display:inline-block;
}
</style>
</head>
<body>

<div class="card">
<h2>Generate QRIS</h2>
<input type="number" id="amount" placeholder="Masukkan nominal">
<button onclick="generate()">Generate</button>
<div id="qrcode"></div>
</div>

<script>
async function generate(){
let amount = document.getElementById("amount").value;

let res = await fetch("/api/create",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({amount})
});

let data = await res.json();

document.getElementById("qrcode").innerHTML="";
new QRCode(document.getElementById("qrcode"),{
text:data.qr_string,
width:220,
height:220
});
}
</script>

</body>
</html>
